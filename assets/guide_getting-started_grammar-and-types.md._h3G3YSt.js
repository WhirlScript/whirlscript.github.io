import{_ as e,o as a,c as s,Q as n}from"./chunks/framework.jBbNkKut.js";const g=JSON.parse('{"title":"Grammar and Data Types","description":"","frontmatter":{"prev":{"text":"Hello Whirlpool!","link":"/guide/getting-started/hello-whirlpool"},"next":{"text":"Control Flow","link":"/guide/getting-started/control-flow"}},"headers":[],"relativePath":"guide/getting-started/grammar-and-types.md","filePath":"guide/getting-started/grammar-and-types.md"}'),t={name:"guide/getting-started/grammar-and-types.md"},i=n(`<h1 id="grammar-and-data-types" tabindex="-1">Grammar and Data Types <a class="header-anchor" href="#grammar-and-data-types" aria-label="Permalink to &quot;Grammar and Data Types&quot;">​</a></h1><p>In this section, we will discuss the basic syntax and variable declarations of WhirlScript.</p><h2 id="basics" tabindex="-1">Basics <a class="header-anchor" href="#basics" aria-label="Permalink to &quot;Basics&quot;">​</a></h2><p>WhirlScript is case-sensitive and uses the UNICODE character set.</p><p>In WhirlScript, instructions are called statements and are separated by semicolons <code>;</code>.</p><h2 id="comments" tabindex="-1">Comments <a class="header-anchor" href="#comments" aria-label="Permalink to &quot;Comments&quot;">​</a></h2><p>The syntax of WhirlScript comments is similar to many languages:</p><div class="language-whirlscript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">whirlscript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">// Single line comment</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">/* This is</span></span>
<span class="line"><span style="color:#E1E4E8;">   a multi-line comment.</span></span>
<span class="line"><span style="color:#E1E4E8;"> */</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">// Single line comment</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">/* This is</span></span>
<span class="line"><span style="color:#24292E;">   a multi-line comment.</span></span>
<span class="line"><span style="color:#24292E;"> */</span></span></code></pre></div><p>These will be skipped during the code compilation process. However, if you enable <code>withComment</code> in the compilation options, these comments will be included in the output.</p><h2 id="declarations" tabindex="-1">Declarations <a class="header-anchor" href="#declarations" aria-label="Permalink to &quot;Declarations&quot;">​</a></h2><p>There are four states of quantities in WhirlScript:</p><ul><li>Compile-time variables: Can be modified and used during compilation;</li><li>Compile-time constants: Can be used during compilation, cannot be modified;</li><li>Runtime variables: Can be modified and used at runtime;</li><li>Runtime constants: Can be used at runtime, cannot be modified.</li></ul><p>Correspondingly, there are four ways to declare:</p><ul><li><code>#var</code>: Declare a compile-time variable, optionally initialize a value.</li><li><code>#const</code>: Declare a compile-time constant.</li><li><code>var</code>: Declare a runtime variable, optionally initialize a value.</li><li><code>const</code>: Declare a runtime constant.</li></ul><h3 id="variables" tabindex="-1">Variables <a class="header-anchor" href="#variables" aria-label="Permalink to &quot;Variables&quot;">​</a></h3><p>In applications, variables are used as symbolic names for values. The name of a variable is called an identifier, which needs to follow certain rules.</p><p>A WhirlScript identifier must start with a letter; subsequent characters can also be numbers (0-9). Because the JavaScript language is case-sensitive, letters can be uppercase letters from &quot;A&quot; to &quot;Z&quot; and lowercase letters from &quot;a&quot; to &quot;z&quot;.</p><p>Like other languages, most operators cannot be included in the name. What&#39;s different is that these symbols, which other languages might allow, are also not allowed:</p><ul><li><code>$</code></li><li><code>_</code></li></ul><details class="details custom-block"><summary>Why?</summary><p>Since the identifier of variables in shell is the <code>$</code> symbol, you cannot use it as a name.</p><p>The <code>_</code> symbol is used to identify scopes and other internal uses, so it cannot be used as a name either.</p><p>Note that these two symbols will be parsed as ordinary operators.</p></details><p>At the same time, the behavior of using keywords as identifiers is undefined.</p><p>Examples of legal identifiers: <code>Number_hits</code>, <code>temp99</code>.</p><h3 id="declaring-variables" tabindex="-1">Declaring Variables <a class="header-anchor" href="#declaring-variables" aria-label="Permalink to &quot;Declaring Variables&quot;">​</a></h3><p>You can declare a variable in this way:</p><div class="language-whirlscript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">whirlscript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">var num:int = 1;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">var num:int = 1;</span></span></code></pre></div><p>Where <code>var</code> indicates that a runtime variable is declared, <code>num</code> is the identifier of the variable, <code>:int</code> indicates that the variable type is <code>int</code>, and <code>= 1</code> initializes this variable to a value (here it is <code>1</code>).</p><p>If initialization is included, the variable type is optional (inferred by the compiler).</p><p>In some cases, you must specify the type to get the result you want:</p><div class="language-whirlscript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">whirlscript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">var aNum:int = 1;</span></span>
<span class="line"><span style="color:#E1E4E8;">var aString:string = aNum;  // Get &quot;1&quot;.</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">var aNum:int = 1;</span></span>
<span class="line"><span style="color:#24292E;">var aString:string = aNum;  // Get &quot;1&quot;.</span></span></code></pre></div><p>This will be mentioned in <a href="#conversion-of-data-types">Conversion of Data Types</a>.</p><p>For all variables (including compile-time and runtime variables), initialization is optional.</p><h3 id="variable-evaluation" tabindex="-1">Variable Evaluation <a class="header-anchor" href="#variable-evaluation" aria-label="Permalink to &quot;Variable Evaluation&quot;">​</a></h3><p>For variables declared with the <code>var</code> statement, if no initial value is assigned, accessing its value will get a default value. The default value is different depending on the type.</p><p>Accessing an undeclared variable will cause an error.</p><h3 id="final-variables" tabindex="-1">Final Variables <a class="header-anchor" href="#final-variables" aria-label="Permalink to &quot;Final Variables&quot;">​</a></h3><p>You can use the <code>@final</code> annotation to declare a final quantity or a function:</p><div class="language-whirlscript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">whirlscript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">@final var g:string = &quot;This is a final variable&quot;; // Declare a final variable</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">:::warning ⚠️ Warning</span></span>
<span class="line"><span style="color:#E1E4E8;">You can only declare a runtime quantity as a final quantity. The same as function.</span></span>
<span class="line"><span style="color:#E1E4E8;">:::</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">bat rawln(&quot;echo %g%&quot;);  // Output g in bat.</span></span>
<span class="line"><span style="color:#E1E4E8;">sh rawln(&quot;echo $g&quot;);    // Output g in sh.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">// More recommended writing</span></span>
<span class="line"><span style="color:#E1E4E8;">rawln(\`echo \${g}\`);   // This does not need to judge the syntax environment, it can be called directly.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">// Or directly</span></span>
<span class="line"><span style="color:#E1E4E8;">println(g); The built-in println function.</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">@final var g:string = &quot;This is a final variable&quot;; // Declare a final variable</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">:::warning ⚠️ Warning</span></span>
<span class="line"><span style="color:#24292E;">You can only declare a runtime quantity as a final quantity. The same as function.</span></span>
<span class="line"><span style="color:#24292E;">:::</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">bat rawln(&quot;echo %g%&quot;);  // Output g in bat.</span></span>
<span class="line"><span style="color:#24292E;">sh rawln(&quot;echo $g&quot;);    // Output g in sh.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">// More recommended writing</span></span>
<span class="line"><span style="color:#24292E;">rawln(\`echo \${g}\`);   // This does not need to judge the syntax environment, it can be called directly.</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">// Or directly</span></span>
<span class="line"><span style="color:#24292E;">println(g); The built-in println function.</span></span></code></pre></div><p>Final quantities will not be modified identifiers after compilation. That is to say, you can directly call it in <code>raw</code> statements. But we recommend using template syntax to directly splice commands.</p><h3 id="constants" tabindex="-1">Constants <a class="header-anchor" href="#constants" aria-label="Permalink to &quot;Constants&quot;">​</a></h3><p>You can create a read-only constant with the keyword <code>const</code>. The naming rules for constant identifiers are the same as for variables.</p><div class="language-whirlscript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">whirlscript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">const version = &quot;1.1.0&quot;;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">const version = &quot;1.1.0&quot;;</span></span></code></pre></div><p>All constants (including compile-time and runtime constants) cannot change their values by reassigning, nor can they be redeclared during code execution. It must be initialized to some value.</p><p>You can choose to omit the type (inferred by the compiler) or explicitly specify it.</p><p>In the same scope, you cannot use a name that is the same as a variable name or function name to name a constant.</p><h2 id="data-structures-and-types" tabindex="-1">Data Structures and Types <a class="header-anchor" href="#data-structures-and-types" aria-label="Permalink to &quot;Data Structures and Types&quot;">​</a></h2><h3 id="data-types" tabindex="-1">Data Types <a class="header-anchor" href="#data-types" aria-label="Permalink to &quot;Data Types&quot;">​</a></h3><p>WhirlScript defines three data types:</p><ul><li><code>boolean</code>: Boolean value, with 2 values: <code>true</code> and <code>false</code>.</li><li><code>int</code>: Integer, for example <code>0</code>, <code>42</code>, <code>1000</code>.</li><li><code>string</code>: String, for example <code>&quot;string&quot;</code>.</li></ul><h3 id="conversion-of-data-types" tabindex="-1">Conversion of Data Types <a class="header-anchor" href="#conversion-of-data-types" aria-label="Permalink to &quot;Conversion of Data Types&quot;">​</a></h3><p>WhirlScript is statically typed, which means that the type of a variable is immutable.</p><p>For example, you cannot assign a <code>string</code> value to an <code>int</code> type variable in this way:</p><div class="language-whirlscript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">whirlscript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">var n:int = 12;</span></span>
<span class="line"><span style="color:#E1E4E8;">n = &quot;string&quot;;   // Error!</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">var n:int = 12;</span></span>
<span class="line"><span style="color:#24292E;">n = &quot;string&quot;;   // Error!</span></span></code></pre></div><h4 id="implicit-conversion" tabindex="-1">Implicit Conversion <a class="header-anchor" href="#implicit-conversion" aria-label="Permalink to &quot;Implicit Conversion&quot;">​</a></h4><p>In this case, there will be no error:</p><div class="language-whirlscript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">whirlscript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">var s:string = &quot;string&quot;;</span></span>
<span class="line"><span style="color:#E1E4E8;">s = 12;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">var s:string = &quot;string&quot;;</span></span>
<span class="line"><span style="color:#24292E;">s = 12;</span></span></code></pre></div><p>Here an implicit conversion has occurred. There are three situations for implicit conversion, respectively:</p><ul><li>Boolean to integer: <code>false</code> will be converted to <code>0</code>, <code>true</code> will be converted to <code>1</code>.</li><li>Boolean to string: <code>false</code> will be converted to <code>&quot;0&quot;</code>, <code>true</code> will be converted to <code>&quot;1&quot;</code>.</li><li>Integer to string: For example, <code>123</code> will be converted to <code>&quot;123&quot;</code>.</li></ul><p>Even if you directly call it in <code>raw</code> statements, it will be the same.</p><details class="details custom-block"><summary>Why?</summary><p>In the underlying implementation, all quantities are strings.</p><p>The underlying implementation of Boolean values is <code>&quot;0&quot;</code> and <code>&quot;1&quot;</code>.</p><p>The underlying implementation of integers is the corresponding string.</p></details><h4 id="type-assertion" tabindex="-1">Type Assertion <a class="header-anchor" href="#type-assertion" aria-label="Permalink to &quot;Type Assertion&quot;">​</a></h4><p>Implicit conversion can only be upward conversion.</p><p>If you need to convert in reverse, you need type assertion. The premise is that you are <strong>very sure</strong> that this is convertible.</p><p>Type assertion is marked with <code>&lt;&gt;</code>, for example:</p><div class="language-whirlscript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">whirlscript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">var n:int = &lt;int&gt;&quot;123&quot;;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">var n:int = &lt;int&gt;&quot;123&quot;;</span></span></code></pre></div><p>The compiler will not check whether your conversion is legal. Please use it <strong>cautiously</strong>.</p><h2 id="literals" tabindex="-1">Literals <a class="header-anchor" href="#literals" aria-label="Permalink to &quot;Literals&quot;">​</a></h2><p>In WhirlScript, you can use various literals. These literals are fixed values given in the script literally, not variables.</p><p>For example <code>1</code>, <code>true</code>, <code>&quot;str&quot;</code>.</p>`,68),o=[i];function l(r,c,p,d,u,h){return a(),s("div",null,o)}const y=e(t,[["render",l]]);export{g as __pageData,y as default};
